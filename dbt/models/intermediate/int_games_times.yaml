models:
  - name: int_games_times
    description: "Games times data with few calculated fields that can be directly derived w/o any join."
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - uuid
            - move_number
    columns:
      - name: uuid
        description: "{{ doc('uuid') }}"
        data_tests:
          - not_null
      - name: move_number
        description: "{{ doc('move_number') }}"
        data_tests:
          - not_null:
              config:
                # Some games can be played without any time control (expected to be very rare)
                severity: error
                error_if: ">50"
                warn_if: ">1"
      - name: time_remaining
        description: "{{ doc('time_remaining') }}"
      - name: time_remaining_seconds
        description: "{{ doc('time_remaining_seconds') }}"
      - name: log_timestamp
        description: "{{ doc('log_timestamp') }}"