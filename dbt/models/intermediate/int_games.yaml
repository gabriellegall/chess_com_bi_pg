models:
  - name: int_games
    description: "Games data with few calculated fields that can be directly derived w/o any join."
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - uuid
            - username
    columns:
      - name: archive_url
        description: "{{ doc('archive_url') }}"
      - name: username
        description: "{{ doc('username') }}"
        tests:
          - not_null
      - name: url
        description: "{{ doc('url') }}"
      - name: pgn
        description: "{{ doc('pgn') }}"
      - name: time_control
        description: "{{ doc('time_control') }}"
      - name: end_time_integer
        description: "{{ doc('end_time_integer') }}"
      - name: end_time
        description: "
          {{ doc('end_time') }} 
          Expressed in the timezone {{ var('data_conversion')['utc_to_target_timezone'] }}
          "
      - name: rated
        description: "{{ doc('rated') }}"
      - name: tcn
        description: "{{ doc('tcn') }}"
      - name: uuid
        description: "{{ doc('uuid') }}"
        tests:
          - not_null
      - name: initial_setup
        description: "{{ doc('initial_setup') }}"
      - name: fen
        description: "{{ doc('fen') }}"
      - name: time_class
        description: "{{ doc('time_class') }}"
      - name: rules
        description: "{{ doc('rules') }}"
      - name: white__username
        description: "{{ doc('white__username') }}"
      - name: white__rating
        description: "{{ doc('white__rating') }}"
      - name: white__result
        description: "{{ doc('white__result') }}"
      - name: white__aid
        description: "{{ doc('white__aid') }}"
      - name: white__uuid
        description: "{{ doc('white__uuid') }}"
      - name: black__username
        description: "{{ doc('black__username') }}"
      - name: black__rating
        description: "{{ doc('black__rating') }}"
      - name: black__result
        description: "{{ doc('black__result') }}"
      - name: black__aid
        description: "{{ doc('black__aid') }}"
      - name: black__uuid
        description: "{{ doc('black__uuid') }}"
      - name: end_time_date
        description: "{{ doc('end_time_date') }}"
      - name: end_time_month
        description: "{{ doc('end_time_month') }}"
      - name: playing_as
        description: "{{ doc('playing_as') }}"
        tests:
          - not_null
      - name: playing_result_detailed
        description: "{{ doc('playing_result_detailed') }}"
        tests:
          - not_null
      - name: playing_rating
        description: "{{ doc('playing_rating') }}"
        tests:
          - not_null
      - name: opponent_rating
        description: "{{ doc('opponent_rating') }}"
        tests:
          - not_null
      - name: playing_result
        description: "{{ doc('playing_result') }}"
      - name: accuracies__white
        description: "{{ doc('accuracies__white') }}"
      - name: accuracies__black
        description: "{{ doc('accuracies__black') }}"
      - name: eco
        description: "{{ doc('eco') }}"
      - name: log_timestamp
        description: "{{ doc('log_timestamp') }}"
      - name: _dlt_load_id
        description: "{{ doc('_dlt_load_id') }}"
      - name: _dlt_id
        description: "{{ doc('_dlt_id') }}"
      - name: start_time
        description: "{{ doc('start_time') }}"
      - name: tournament
        description: "{{ doc('tournament') }}"
      - name: match
        description: "{{ doc('match') }}"